# ğŸ¤– AutoGen Enterprise

A scalable platform for **building and managing autonomous AI agent teams**. Describe a task in natural language and watch a team of specialized AI agents collaborate, search the web, and execute code to complete it â€” in real time.

---

## âš¡ Quick Install

> **Prerequisite:** [Docker Desktop](https://docs.docker.com/get-docker/) must be installed and running.

### Linux / macOS

```bash
git clone https://github.com/Jailtonfonseca/multi-agent-orchestrator.git
cd multi-agent-orchestrator
bash install.sh
```

### Windows (Git Bash or WSL)

```bash
git clone https://github.com/Jailtonfonseca/multi-agent-orchestrator.git
cd multi-agent-orchestrator
bash install.sh
```

### What the installer does

1. âœ… Checks Docker is installed and running
2. ğŸ” Scans for available ports (defaults: 3000, 8000, 5432, 8080)
3. ğŸ“ Generates `.env` and `docker-compose.override.yml` with free ports
4. ğŸ³ Builds and starts all 6 containers
5. ğŸ¥ Waits for the backend health check to pass
6. ğŸ‰ Prints the access URLs

After install, open the displayed URL (default: **http://localhost:3000**)

---

## ğŸ—‘ï¸ Uninstall

```bash
bash uninstall.sh
```

This will:
- Stop and remove all containers
- Remove Docker volumes (database data is deleted)
- Clean generated `.env` and `docker-compose.override.yml`
- Optionally remove built Docker images

---

## ğŸ”§ Manual Install (without installer)

```bash
git clone https://github.com/Jailtonfonseca/multi-agent-orchestrator.git
cd multi-agent-orchestrator

# Copy the example config
cp .env.example .env

# Build and start
docker-compose up -d --build

# Check health
curl http://localhost:8000/health
```

Open **http://localhost:3000**

---

## ğŸ“– Usage

1. **âš™ï¸ Settings** â†’ Enter your API key for your preferred provider
2. **âœ¦ New Task** â†’ Choose provider + model, describe the task
3. **ğŸš€ Start Task** â†’ Watch agents build a team and execute in real time
4. **ğŸ’¬ Reply** â†’ When agents ask for input, type your reply

| Provider | Example Models |
|---|---|
| OpenRouter | `openai/gpt-4o`, `anthropic/claude-3-opus` |
| OpenAI | `gpt-4-turbo`, `gpt-3.5-turbo` |
| Groq | `llama3-70b-8192` |
| DeepSeek | `deepseek-chat` |

---

## ğŸ—ï¸ Architecture

```
Browser (React SPA :3000)
    â”‚  REST + WebSocket
    â–¼
FastAPI Backend (:8000)  â”€â”€â–º  Celery Worker  â”€â”€â–º  AutoGen AgentBuilder
    â”‚                              â”‚
    â–¼                              â–¼
PostgreSQL (:5432)              Redis (internal)
    â”‚
    â–¼
Adminer (:8080)
```

| Service | Description |
|---|---|
| **Frontend** | React 18 SPA â€” sidebar, chat, real-time WebSocket logs |
| **Backend** | FastAPI â€” REST API, WebSocket relay, session management |
| **Worker** | Celery + AutoGen â€” agent orchestration, code execution |
| **PostgreSQL** | Session and log persistence |
| **Redis** | Message broker + pub/sub for real-time streaming |
| **Adminer** | Web-based database inspector |

---

## âš™ï¸ Environment Variables

All configurable via `.env` (auto-generated by `install.sh`):

| Variable | Default | Description |
|---|---|---|
| `FRONTEND_PORT` | `3000` | Port for the React app |
| `BACKEND_PORT` | `8000` | Port for the API |
| `DB_PORT` | `5432` | PostgreSQL port |
| `ADMINER_PORT` | `8080` | Adminer port |
| `MAX_ROUNDS` | `12` | Max agent chat rounds per task |
| `POSTGRES_USER` | `autogen` | DB username |
| `POSTGRES_PASSWORD` | `autogen123` | DB password |

---

## ğŸ“Š API Reference

| Method | Endpoint | Description |
|---|---|---|
| `POST` | `/api/start-task` | Start a new agent task |
| `POST` | `/api/reply` | Send human input to a waiting task |
| `POST` | `/api/stop-task/{id}` | Stop a running task |
| `GET` | `/api/sessions` | List all sessions |
| `GET` | `/api/sessions/{id}` | Get single session |
| `GET` | `/api/sessions/{id}/logs` | Get logs for a session |
| `WS` | `/ws/{id}` | Real-time log stream |
| `GET` | `/health` | Health check (Redis + DB + Celery) |

---

## ğŸ› ï¸ Useful Commands

```bash
# View all container logs
docker-compose logs -f

# View only worker logs
docker-compose logs -f worker

# Restart everything
docker-compose restart

# Rebuild after code changes
docker-compose up -d --build

# Stop without removing data
docker-compose down

# Full cleanup (removes data!)
bash uninstall.sh
```

---

## ğŸ›¡ï¸ Security Notes

> [!WARNING]
> Agents execute Python code inside the Worker container without sandboxing.
> For production, implement Docker-in-Docker isolation.

> [!NOTE]
> API keys are stored in browser localStorage and sent per-request.
> Never stored on the server.

---

## ğŸ—ºï¸ Roadmap

- [ ] JWT / OAuth2 authentication
- [ ] Docker-in-Docker code sandbox
- [ ] File upload and image generation tools
- [ ] Prometheus + Grafana monitoring
- [ ] GitHub Actions CI/CD
